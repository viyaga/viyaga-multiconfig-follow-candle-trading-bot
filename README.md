# Express.js TypeScript API Project

This is an Express.js API project with MongoDB and a cron job system, built with TypeScript following a clean architecture pattern.

## Getting Started

Follow these steps to set up and run the project:

### 1. Install Dependencies

Navigate to the project root directory and install the required packages:

```bash
npm install
# or
pnpm install
```

### 2. Environment Variables

Create a `.env` file in the project root and add the following environment variables:

```
PORT=3001
MONGO_URI=mongodb+srv://your-cloud-mongodb-uri
```

*   `PORT`: The port on which the Express server will run (default: 3001).
*   `MONGO_URI`: The connection string for your MongoDB database (cloud or local).

### 3. Run the Project

To start the development server (with auto-restart on file changes):

```bash
npm run dev
# or
pnpm dev
```

To build the TypeScript project:

```bash
npm run build
# or
pnpm build
```

To start the project in production mode:

```bash
npm start
# or
pnpm start
```

The API will be available at `http://localhost:3001` (or your specified PORT).

### API Endpoints

*   **GET /**: Health check endpoint.
*   **GET /api/samples**: Get all sample items.
*   **POST /api/samples**: Create a new sample item.

### Cron Jobs

A sample cron job is configured to run every minute, logging a message to the console. You can find and modify cron jobs in `src/cron/sample.cron.ts`.

## Project Structure

The project follows a clean architecture with a modular folder structure:

```
project-root/
│
├── src/
│   ├── config/          # Environment variables and DB connection
│   │   ├── db.ts
│   │   ├── env.ts
│   │   └── index.ts
│   │
│   ├── controllers/     # Request handlers, interact with services
│   │   └── sample.controller.ts
│   │
│   ├── services/        # Business logic
│   │   └── sample.service.ts
│   │
│   ├── models/          # Mongoose schemas and models
│   │   └── sample.model.ts
│   │
│   ├── routes/          # API route definitions
│   │   └── sample.routes.ts
│   │
│   ├── cron/            # Scheduled tasks
│   │   ├── sample.cron.ts
│   │   └── index.ts
│   │
│   ├── middleware/      # Express middleware (error handling, validation)
│   │   ├── errorHandler.ts
│   │   └── validate.ts
│   │
│   ├── utils/           # Utility functions (logger, response helpers)
│   │   ├── logger.ts
│   │   └── response.ts
│   │
│   ├── app.ts           # Express application setup
│   └── server.ts        # Server entry point, DB connection, cron init
│
├── dist/                # Compiled JavaScript (generated by build)
├── .env                 # Environment variables
├── .gitignore           # Git ignore file
├── package.json         # Project dependencies and scripts
├── tsconfig.json        # TypeScript configuration
└── README.md            # Project documentation
```

## TypeScript

This project is written in TypeScript with strict type checking enabled. The TypeScript compiler is configured to:
- Target ES2020
- Use CommonJS modules
- Output compiled JavaScript to the `dist/` directory
- Enable all strict type-checking options

For development, we use `tsx` which provides fast TypeScript execution with hot reload.